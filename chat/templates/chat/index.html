{% extends 'chat/base.html' %}

{% block content %}
<div class="container">
	<script>
		function createroom() {
			var roomname = $('#create-room').val();
			console.log(roomname)
			var getLink = '/chat/' + roomname;
			window.location.replace(getLink)
		}

		function joinroom() {
			var roomname = $('#join-room option:selected').val();
			console.log(roomname)
			var getLink = '/chat/' + roomname;
			window.location.replace(getLink)
		}
	</script>
	<h1 class="text-center">Welcome!</h1>
	<div class="row">
		<div class="col-md-6 text-center">
				<p class="lead">Create a new room</p>
				<input type="text" name="chat-textbox" id='create-room' class="form-control" />
				<button class='btn btn-lg btn-success my-2' onclick='createroom()'>Create</button>
		</div>
		<div class="col-md-6 text-center">
			<p class="lead">Join an existing room</p>
			<select class='form-control' id='join-room'>
				{% for room in rooms %}
					<option value={{room.room_name}} id={{room.room_name}}>{{room.room_name}}</option>
				{% endfor %}
			</select>
			<button class="btn btn-lg btn-primary my-2" onclick='joinroom()'>Join</button>
		</div>
	</div>
</div>
{% endblock %}